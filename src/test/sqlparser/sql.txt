DECLARE @layouttemple TABLE
(
 ID varchar(32)
);
WITH cte(ID,NAME,PARENT_ID)
AS (
SELECT 
 R1.ID,
 R1.NAME,
 R1.PARENT_ID
FROM dbo.SYS_ROWS_COLS AS R1
WHERE R1.BS='rows'
UNION ALL
SELECT 
 R2.ID,
 R2.NAME,
 R2.PARENT_ID
FROM dbo.SYS_ROWS_COLS AS R2
WHERE R2.BS='row'
UNION ALL
SELECT 
 R3.ID,
 R3.NAME,
 R3.PARENT_ID
FROM dbo.SYS_ROWS_COLS AS R3
WHERE R3.BS='columns'
UNION ALL
SELECT 
 R4.ID,
 R4.NAME,
 R4.PARENT_ID
FROM dbo.SYS_ROWS_COLS AS R4
WHERE R4.BS='column'
UNION ALL
SELECT 
 C.ID,
 C.TITLE AS NAME,
 C.COLUMN_ID AS PARENT_ID
FROM dbo.SYS_COLS_DETAILS AS C),
 A AS (
SELECT ID,NAME,PARENT_ID FROM cte WHERE ID= $RowsId$
UNION ALL
SELECT cte.ID, cte.NAME, cte.PARENT_ID FROM cte
INNER JOIN A ON cte.PARENT_ID = A.ID
)
INSERT INTO @layouttemple
        ( ID ) 
SELECT ID FROM A
DELETE FROM dbo.SYS_COLS_DETAILS WHERE
ID IN(SELECT ID FROM @layouttemple)
DELETE FROM dbo.SYS_ROWS_COLS WHERE
ID IN(SELECT ID FROM @layouttemple)